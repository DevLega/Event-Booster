var e;const t={posters:document.getElementById("posters"),pagination:document.getElementById("pagination"),searchInput:document.getElementById("search-input"),dropdown:document.getElementById("countryDropdown"),countryList:document.getElementById("countryList"),selectedCountry:document.getElementById("selectedCountry"),dropdownArrow:document.getElementById("dropdownArrow"),modal:document.getElementById("modal-window"),closeBtn:document.getElementById("modal-window_close-icon"),modalTopPhoto:document.getElementById("modal-window_top-photo"),modalMainPhoto:document.getElementById("modal-winow_main-photo"),infoDescr:document.getElementById("info-descr"),whenDescrDate:document.getElementById("when-descr_date"),whenDescrTime:document.getElementById("when-descr_time"),whereDescrCity:document.getElementById("where-descr_city"),whereDescrPlace:document.getElementById("where-descr_place"),whoDescrAuthor:document.getElementById("who-descr_author"),descrStandartPrice:document.getElementById("descr_standart-price"),descrVipPrice:document.getElementById("descr_vip-price"),buyStandartBtn:document.getElementById("buyStandartBtn"),buyVipBtn:document.getElementById("buyVipBtn"),moreFromAuthorBtn:document.getElementById("author-more-btn"),authorEvents:document.getElementById("authorEvents")},n=t.modal;function a(){n.classList.remove("is-open"),setTimeout(()=>{n.classList.add("hidden"),document.body.style.overflow="auto"},100)}t.closeBtn.addEventListener("click",a),n.addEventListener("click",e=>{e.target===n&&a()});const i=document.getElementById("info-descr"),s=document.getElementById("toggle-info");s.addEventListener("click",()=>{i.classList.contains("line-clamp-3")?(i.classList.remove("line-clamp-3"),s.textContent="View Less"):(i.classList.add("line-clamp-3"),s.textContent="View More")});const r=new class{constructor(){this._apiKey="RO7qWdCAE673OL1GG2So7c2DTSgA49pc",this._baseUrl="https://app.ticketmaster.com/discovery/v2/events.json",this._countryCode="",this._search="",this._size=20,this._page=1,this._totalPages=1}get apiKey(){return this._apiKey}get baseUrl(){return this._baseUrl}get countryCode(){return this._countryCode}get search(){return this._search}get size(){return this._size}get page(){return this._page}get totalPages(){return this._totalPages}set countryCode(e){this._countryCode=e}set search(e){this._search=e}set size(e){this._size=e}set page(e){this._page=e}async fetchEvent(e){try{let n=await fetch(e);if(!n.ok)throw Error(`HTTP error ${n.status}`);let a=await n.json();if(!a?._embedded){t.posters.innerHTML="<p class='text-center text-2xl mb-12'>Нема подій.</p>",c();return}return this._totalPages=a.page.totalPages||1,a}catch(e){console.error("fetchEvent error:",e)}}getData(){return this.fetchEvent(`${this._baseUrl}?size=${this._size}&page=${this._page}&apikey=${this._apiKey}`)}getDataByCountry(e){return this.fetchEvent(`${this._baseUrl}?countryCode=${e}&size=${this._size}&page=${this._page}&apikey=${this._apiKey}`)}getDataByEventName(e){return this.fetchEvent(`${this._baseUrl}?keyword=${e}&size=${this._size}&page=${this._page}&apikey=${this._apiKey}`)}getDataByAuthor(e){return this.fetchEvent(`${this._baseUrl}?attractionName=${e}&size=${this._size}&page=${this._page}&apikey=${this._apiKey}`)}renderData(e){if(!e)return;let a=e._embedded.events.map(e=>`
      <div class="poster-item relative h-auto w-full md:w-[196px] text-center justify-items-center cursor-pointer hover:scale-103 transition-transform duration-100 ease-in-out" data-id="${e.id}">
        <div class="relative inline-block">
          <img class="mt-[13px] mb-[5px] rounded-tl-[50px] rounded-br-[50px] object-cover md:h-[227px]" src="${e.images[5].url}" alt="">
          <div class="absolute z-10 border border-[#DC56C54D] w-[153px] h-[143px] rounded-tl-[50px] rounded-br-[50px] top-0 -right-[12px]"></div>
        </div>
        <h2 class="text-pink-500 font-bold text-[14px] md:text-base">${e.name}</h2>
        <p class="text-white font-normal text-[14px] md:text-base">${e.dates.start.localDate}</p>
        <div class="flex items-center gap-[3px]">
          <img class="w-[7px] h-[10px]" src="public/icon-marker.svg" alt="">
          <p class="text-white font-semibold text-[12px] md:text-[14px]">${e._embedded.venues[0].name}</p>
        </div>
      </div>
    `).join("");t.posters.innerHTML=a,t.posters.querySelectorAll(".poster-item").forEach(a=>{a.addEventListener("click",()=>{let i=a.getAttribute("data-id");var s=e._embedded.events.find(e=>e.id===i);n.classList.add("is-open"),n.classList.remove("hidden"),document.body.style.overflow="hidden";let r=(e,t)=>e?.find(e=>e.width===t)?.url||e?.[0]?.url||"public/default-image.png";t.modalTopPhoto.src=r(s.images,256)||r(s.images,100),t.modalMainPhoto.src=r(s.images,640)||r(s.images,342),t.infoDescr.textContent=s.info||s.name||"No info available",t.whenDescrDate.textContent=s.dates?.start?.localDate??"Unknown",t.whenDescrTime.textContent=s.dates?.start?.localTime??"Unknown";let d=s._embedded?.venues?.[0];t.whereDescrCity.textContent=d?.city?.name??"Unknown",t.whereDescrPlace.textContent=d?.name??"Unknown";let o=s._embedded?.attractions?.[0];t.whoDescrAuthor.textContent=o?.name??"Unknown";let c=s.priceRanges;c?.length>0&&(t.descrStandartPrice.textContent=`${c[0].type}: ${c[0].min} - ${c[0].max} ${c[0].currency}`,t.buyStandartBtn.onclick=()=>window.open(s.url,"_blank"),c.length>1&&(t.descrVipPrice.textContent=`${c[1].type}: ${c[1].min} - ${c[1].max} ${c[1].currency}`,t.buyVipBtn.onclick=()=>window.open(s.url,"_blank"),t.vipPriceContainer.style.display="block"))})})}};function d(e,t=!1){let n=document.createElement("div");return n.className="px-3 py-1 cursor-pointer",t&&n.classList.add("active-page"),n.innerHTML=`<p class="text-[14px] font-normal">${e}</p>`,n.addEventListener("click",()=>{r.page!==e&&(r.page=e,l())}),n}function o(){let e=document.createElement("div");return e.className="px-3 py-1",e.innerHTML='<p class="text-[14px] font-normal">...</p>',e}function c(){let e=Math.max(1,r.totalPages),n=Math.min(Math.max(1,r.page),e),a=t.pagination;a.innerHTML="";let i=document.createDocumentFragment();if(e<=7){for(let t=1;t<=e;t++)i.appendChild(d(t,t===n));return a.appendChild(i)}let s=Math.max(2,n-Math.floor(2.5)),c=Math.min(e-1,s+5-1);c-s+1<5&&(s=Math.max(2,c-5+1)),i.appendChild(d(1,1===n)),s>2&&i.appendChild(o());for(let e=s;e<=c;e++)i.appendChild(d(e,e===n));c<e-1&&i.appendChild(o()),i.appendChild(d(e,n===e)),a.appendChild(i)}async function l(){let e=window.innerWidth;r.size=e>768&&e<1280?21:20;try{let e,n=t.searchInput.value.trim();e=r.countryCode?await r.getDataByCountry(r.countryCode):n?await r.getDataByEventName(n):await r.getData(),r.renderData(e),c()}catch(e){console.error("loadData error:",e)}}l(),t.searchInput.addEventListener("input",function(e,t=200){let n;return(...a)=>{clearTimeout(n),n=setTimeout(()=>e.apply(this,a),t)}}(()=>{r.page=1,l()}),1e3);((e=JSON.parse('[{"text":"","id":""},{"text":"Andorra","id":"AD"},{"text":"Australia","id":"AU"},{"text":"Austria","id":"AT"},{"text":"Belarus","id":"BY"},{"text":"Belgium","id":"BE"},{"text":"Brazil","id":"BR"},{"text":"Canada","id":"CA"},{"text":"Czech Republic","id":"CZ"},{"text":"Denmark","id":"DK"},{"text":"Estonia","id":"EE"},{"text":"Finland","id":"FI"},{"text":"France","id":"FR"},{"text":"Germany","id":"DE"},{"text":"Ireland","id":"IE"},{"text":"Israel","id":"IL"},{"text":"Italy","id":"IT"},{"text":"Latvia","id":"LV"},{"text":"Liechtenstein","id":"LI"},{"text":"Luxembourg","id":"LU"},{"text":"Macedonia","id":"MK"},{"text":"Mexico","id":"MX"},{"text":"Netherlands","id":"NL"},{"text":"New Zealand","id":"NZ"},{"text":"Norway","id":"NO"},{"text":"Poland","id":"PL"},{"text":"Portugal","id":"PT"},{"text":"Spain","id":"ES"},{"text":"Sweden","id":"SE"},{"text":"Switzerland","id":"CH"},{"text":"Ukraine","id":"UA"},{"text":"United Arab Emirates","id":"AE"},{"text":"United Kingdom","id":"GB"},{"text":"USA","id":"US"}]'))&&e.__esModule?e.default:e).forEach(e=>{let n=document.createElement("li");n.textContent=e.text,n.dataset.id=e.id,n.className="px-4 py-2 hover:bg-gray-200 cursor-pointer",n.addEventListener("click",e=>{let n=e.target.textContent,a=e.target.dataset.id;t.selectedCountry.textContent=n,t.countryList.classList.add("hidden"),t.dropdownArrow.classList.remove("rotate-180"),r.countryCode=a,r.page=1,l()}),t.countryList.appendChild(n)}),t.dropdown.addEventListener("click",()=>{t.countryList.classList.toggle("hidden"),t.dropdownArrow.classList.toggle("rotate-180")}),document.addEventListener("click",e=>{t.dropdown.contains(e.target)||(t.countryList.classList.add("hidden"),t.dropdownArrow.classList.remove("rotate-180"))});const p=document.createElement("div");p.classList.add("preloader"),p.innerHTML=`
        <div class="loader-text">
            <span>E</span><span>V</span><span>E</span><span>N</span><span>T</span>
            <span>B</span><span>O</span><span>O</span><span>S</span><span>T</span><span>E</span><span>R</span>
        </div>
    `,document.body.appendChild(p),setTimeout(()=>{p.classList.add("preloader-hide"),setTimeout(()=>{p.remove();let e=document.querySelector(".header-txt");e&&e.classList.add("animate-header")},1e3)},3e3);
//# sourceMappingURL=Event-Booster.57ea1840.js.map
